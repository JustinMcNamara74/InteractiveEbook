
<!DOCTYPE html>
<html>
  <head>
    <title>Listing 7.1 by Y. Daniel Liang</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <script type="text/javascript" src="http://code.jquery.com/jquery-latest.js"></script>
    <script type="text/javascript" src="js/GetElementPosition.js"></script>

    <style type = "text/css">
      body {font-family: "Courier New", sans-serif; font-size: 100%; color: black}
      .keyword {color: #000080; font-weight: bold}
      .comment {color: gray}
      .literal {font-weight: bold; color: #3366FF}
    </style>

    <STYLE>
      #highlight {
        background-color:green;
        opacity: 0.25;
        position:absolute;
        width:318px;
        height: 10px;
        padding: 3px;
        margin-top:0px;
        top: 79px;
        left: 62px;
      }

      #explanation {
        color: green;
        position:absolute;
        width: 158px;
        height: 40px;
        padding: 3px;
        margin-top:5px;
        top: 75px;
        left: 448px;
        font-size: 90%;
        font-family: Times New Roman;
      }

      #commandPrompt {
        font-family: times;  border: 1px solid gray; text-align: left;  
        position:absolute;         
        width: 248.5px;
        height: 120px;
        top: 80px;
        left: 600px;
        font-size: 80%;
      }

      #commandPromptHeader {
        background-color: navy; color: white; font-size: 80%;
        border-bottom: 2px solid gray; border-right: 2px solid gray;
      }

      #commandPromptContent {
        background-color: white;
        color: black;
        width: 248px;
        height: 100px;
        font-family: courier; 
        font-size: 80%;
      }
    </STYLE>

    <script>
      function HighLight() {
        this.width = 318;
        this.height = 10;
        this.top = 77;
        this.left = 62;
      }

      function Explanation() {
        this.innerHTML = "";
        this.left = 448;
        this.width = 158;
        this.height = 40;
        this.top = 75;
      }

      function CommandPrompt() {
        this.innerHTML = "";
        this.left = 448;
        this.width = 158;
        this.height = 40;
        this.top = 65;
        this.isVisible = true;
      }

      numbers = [];
      sum = 0;
      count = 0;
      number1 = 8;
      number2 = 7;
      number2 = 5;
      number3 = 2;
      result = true;
      steps = 18;
      animationSpeed = 500;
      slowAnimationSpeed = 3000;
      lineOffSet = 15;
      highLight = [];
      for (var i = 0; i <= steps; i++) {
        highLight[i] = new HighLight();
      }

      explanation = [];
      explanation[0] = new Explanation();
      explanation[0].innerHTML = "The program starts the execution from the main method.";
      explanation[0].top = 95;
      explanation[0].left = 538;
      explanation[1] = new Explanation();
      explanation[1].innerHTML = "The statement creates an object for performing console input and assigns the object to the reference variable named input.";
      explanation[1].top = 95;
      explanation[1].left = 550;
      explanation[2] = new Explanation();
      explanation[2].innerHTML = "The statement displays a message to prompt the user for input.";
      explanation[2].top = 87;
      explanation[2].left = 570;
      explanation[3] = new Explanation();
      n = 0
      explanation[3].innerHTML = "The statement reads an input 3 from the console and assigns it to variable radius.";
      explanation[3].top = 100;
      explanation[3].left = 470;
      explanation[3].width = 430;
      explanation[4] = new Explanation();
      explanation[4].innerHTML = "The array of length 3 is created and assigned to reference varaible numbers.";
      explanation[4].top = 110;
      explanation[4].left = 380;
      explanation[4].width = 160;
      explanation[5] = new Explanation();
      explanation[5].innerHTML = "sum is initialized to 0.";
      explanation[5].top = 135;
      explanation[5].left = 285;
      explanation[5].width = 205;
      explanation[6] = new Explanation();
      explanation[6].innerHTML = "The statement displays a message to prompt the user to enter numbers.";
      explanation[6].top = 217;
      explanation[6].left = 345;
      explanation[6].width = 205;
      explanation[7] = new Explanation();
      explanation[7].innerHTML = "i is now " + i + " and n is " + n + ". The program tests if i < n.";
      explanation[7].top = 220;
      explanation[7].left = 288;
      explanation[7].width = 205;
      explanation[8] = new Explanation();
      explanation[8].innerHTML = "The program receives an input and assign it to numbers[" + i + "].";
      explanation[8].top = 220;
      explanation[8].left = 248;
      explanation[8].width = 205;
      explanation[9] = new Explanation();
      explanation[9].innerHTML = "numbers[ " + i + "] is added to sum.";
      explanation[9].top = 220;
      explanation[9].left = 248;
      explanation[9].width = 255;
      explanation[10] = new Explanation();
      explanation[10].innerHTML = "Compute average.";
      explanation[10].top = 228;
      explanation[10].left = 298;
      explanation[10].width = 280;
      explanation[11] = new Explanation();
      explanation[11].innerHTML = "Initialize count.";
      explanation[11].top = 248;
      explanation[11].left = 298;
      explanation[11].width = 155;
      explanation[12] = new Explanation();
      explanation[12].innerHTML = "i is now " + i + " and n is " + n + ". The program tests if i < n.";
      explanation[12].top = 258;
      explanation[12].left = 348;
      explanation[12].width = 250;

      explanation[13] = new Explanation();
      explanation[13].top = 258;
      explanation[13].left = 348;
      explanation[13].width = 250;

      explanation[14] = new Explanation();
      explanation[15] = new Explanation();
      explanation[16] = new Explanation();
      explanation[17] = new Explanation();
      explanation[18] = new Explanation();


      commandPrompt = [];
      commandPrompt[0] = new CommandPrompt();
      commandPrompt[0].isVisible = true;
      commandPrompt[0].innerHTML = "c:\\book>java AnalyzeNumbers";
      commandPrompt[0].top = 75;
      commandPrompt[0].left = 690;
      commandPrompt[0].height = 75;
      commandPrompt[0].width = 260;
      commandPrompt[1] = new CommandPrompt();
      commandPrompt[1].isVisible = false;
      commandPrompt[2] = new CommandPrompt();
      commandPrompt[2].isVisible = true;
      commandPrompt[2].innerHTML = "c:\\book>java AnalyzeNumbers<br>Enter the numbers of items: ";
      commandPrompt[2].top = 161;
      commandPrompt[2].left = 640;
      commandPrompt[3] = new CommandPrompt();
      commandPrompt[3].isVisible = true;
      commandPrompt[3].innerHTML = "c:\\book>java AnalyzeNumbers<br>Enter the numbers of items: " + 3;
      commandPrompt[3].top = 181;
      commandPrompt[3].left = 640;
      commandPrompt[4] = new CommandPrompt();
      commandPrompt[4].isVisible = false;
      commandPrompt[5] = new CommandPrompt();
      commandPrompt[5].isVisible = false;
      commandPrompt[6] = new CommandPrompt();
      commandPrompt[6].isVisible = true;
      commandPrompt[6].innerHTML = "c:\\book>java AnalyzeNumbers<br>" +
              "Enter the numbers of items: " + 3 + "<br>" +
              "Enter the numbers: ";
      commandPrompt[6].top = 245;
      commandPrompt[6].left = 640;
      commandPrompt[7] = new CommandPrompt();
      commandPrompt[7].isVisible = false;
      commandPrompt[9] = new CommandPrompt();
      commandPrompt[9].isVisible = false;
      commandPrompt[8] = new CommandPrompt();
      commandPrompt[8].isVisible = true;
      commandPrompt[8].innerHTML = "c:\\book>java AnalyzeNumbers<br>" +
              "Enter the numbers of items: " + 3 + "<br>" +
              "Enter the numbers: ";
      commandPrompt[8].top = 245;
      commandPrompt[8].left = 640;
      commandPrompt[10] = new CommandPrompt();
      commandPrompt[10].isVisible = false;
      commandPrompt[11] = new CommandPrompt();
      commandPrompt[11].isVisible = false;
      commandPrompt[12] = new CommandPrompt();
      commandPrompt[12].isVisible = false;
      commandPrompt[13] = new CommandPrompt();
      commandPrompt[13].isVisible = false;
      commandPrompt[14] = new CommandPrompt();
      commandPrompt[14].isVisible = false;
      commandPrompt[15] = new CommandPrompt();
      commandPrompt[15].isVisible = true;
      commandPrompt[16] = new CommandPrompt();
      commandPrompt[16].isVisible = true;
      commandPrompt[17] = new CommandPrompt();
      commandPrompt[17].isVisible = true;
      commandPrompt[18] = new CommandPrompt();
      commandPrompt[18].isVisible = true;

      currentLine = 0;
      function init() {
        document.getElementById('highlight').style.visibility = 'hidden';
        document.getElementById('nextButton').style.visibility = 'hidden';
        document.getElementById('prevButton').style.visibility = 'hidden';
        document.getElementById('commandPrompt').style.visibility = 'hidden';
        document.getElementById('memory').style.visibility = 'hidden';
        document.getElementById('average').style.visibility = 'hidden';
        document.getElementById('count').style.visibility = 'hidden';
        document.getElementById('flyingNumbers').style.visibility = 'hidden';
        document.getElementById('numbers').style.visibility = 'hidden';
        document.getElementById('result').style.visibility = 'hidden';
        document.getElementById('number2').style.visibility = 'hidden';
        document.getElementById('number3').style.visibility = 'hidden';
      }

      function step() {
        if (currentLine == 0) {
          document.getElementById('variable').style.visibility = 'hidden';
          document.getElementById('radius').style.visibility = 'hidden';
          document.getElementById('flyingI').style.visibility = 'hidden';
          document.getElementById('flyingI').innerHTML = '';
          document.getElementById('value1').innerHTML = '';
          document.getElementById('prevButton').style.visibility = 'hidden';
          pos = getElementPos(document.getElementById('line0'));
          $("#highlight").animate({top: pos.y, left: pos.x, width: pos.w, height: pos.h}, animationSpeed);
        }
        else if (currentLine == 1) {
          pos = getElementPos(document.getElementById('line1'));
          $("#highlight").animate({top: pos.y, left: pos.x, width: pos.w, height: pos.h},
          animationSpeed)
        }
        else if (currentLine == 2) {
          document.getElementById('memory').style.visibility = 'hidden';
          document.getElementById('flyingN').style.visibility = 'hidden';
          document.getElementById('value1').innerHTML = '';
          document.getElementById('radius').style.visibility = 'hidden';
          pos = getElementPos(document.getElementById('line2'));
          $("#highlight").animate({top: pos.y, left: pos.x, width: pos.w, height: pos.h}, animationSpeed);
        }
        else if (currentLine == 3) {
          while (n != 3) {
            n = prompt("Here is your chance to enter n (please enter 3):");
          }

          document.getElementById('value2').innerHTML = '';
          document.getElementById('average').style.visibility = 'hidden';
          document.getElementById('number1').style.visibility = 'hidden';
          document.getElementById('flyingN').innerHTML = '';
          document.getElementById('memory').style.visibility = 'visible';
          document.getElementById('flyingN').style.visibility = 'visible';
          document.getElementById('value1').innerHTML = '';
          document.getElementById('radius').style.visibility = 'visible';
          pos = getElementPos(document.getElementById('line3'));
          $("#highlight").animate({top: pos.y, left: pos.x, width: pos.w, height: pos.h}, animationSpeed, function() {
            $("#flyingN").css("top", pos.y).css("left",
                    pos.x + 30);
            document.getElementById('flyingN').innerHTML = 3;
            $("#flyingN").animate({top: 75, left: 615}, slowAnimationSpeed);
          });
        }
        else if (currentLine == 4) {
          document.getElementById('numbers').style.visibility = 'visible';
          document.getElementById('number1').style.visibility = 'visible';
          document.getElementById('number2').style.visibility = 'visible';
          document.getElementById('number3').style.visibility = 'visible';
          document.getElementById('flyingNumbers').style.visibility = 'visible';
          document.getElementById('flyingNumber3').innerHTML = '0.0';
          document.getElementById('flyingNumber2').innerHTML = '0.0';
          document.getElementById('flyingNumber1').innerHTML = '0.0';
          $("#highlight").animate({top: pos.y, left: pos.x, width: pos.w, height: pos.h}, animationSpeed);
        }
        else if (currentLine == 5) {
          document.getElementById('result').style.visibility = 'visible';
          document.getElementById('flyingResult').style.visibility = 'visible';
          pos = getElementPos(document.getElementById('line5'));
          pos2 = getElementPos(document.getElementById('sumLoc'));
          document.getElementById('flyingResult').innerHTML = "0.0";
          $("#flyingResult").css('top', pos2.y).css('left', pos2.x - 40);
          $("#highlight").animate({top: pos.y, left: pos.x, width: pos.w, height: pos.h}, animationSpeed, function() {
            $("#flyingResult").animate({top: 205, left: 615}, slowAnimationSpeed);
          });
        }
        else if (currentLine == 6) {
          i = 0;
          n = 3;
          sum = 0;
          pos = getElementPos(document.getElementById('line6'));
          $("#highlight").animate({top: pos.y, left: pos.x, width: pos.w, height: pos.h}, animationSpeed);
        }
        else if (currentLine == 7) {
          pos = getElementPos(document.getElementById('line7'));
          $("#highlight").animate({top: pos.y, left: pos.x, width: pos.w, height: pos.h}, animationSpeed);
          if (i < n) {
            explanation[7].innerHTML = "i is now " + i + " and n is " + n + ". The program tests if i < n. Since " + i + " < " + n + " is true, the program executes the loop body.";
          }
          else {
            explanation[7].innerHTML = "i is now " + i + " and n is " + n + ". The program tests if i < n. Since " + i + " < " + n + " is false. This loop ends.";
            $("#explanation").animate({top: explanation[currentLine].top, left: explanation[currentLine].left,
              width: explanation[currentLine].width}, animationSpeed);
            document.getElementById('explanation').innerHTML = explanation[currentLine].innerHTML;
            currentLine = 9;
            return;
          }
        }
        else if (currentLine == 8) {
          numbers[i] = parseFloat(prompt("Enter an input for numbers [" + i + "]:"));
          explanation[8].innerHTML = "The program receives an input and assign it to numbers[" + i + "].";
          pos = getElementPos(document.getElementById('line8'));
          $("#highlight").animate({top: pos.y, left: pos.x, width: pos.w, height: pos.h}, animationSpeed, function() {
            posLoc3 = getElementPos(document.getElementById('numberiLoc'));
            if (i == 0) {
              document.getElementById('flyingNumber1').innerHTML = numbers[i];
              $("#flyingNumber1").css("top", posLoc3.y).css("left", posLoc3.x);
              $("#flyingNumber1").animate({top: 115, left: 615}, slowAnimationSpeed);
            }
            else if (i == 1) {
              document.getElementById('flyingNumber2').innerHTML = numbers[i];
              $("#flyingNumber2").css("top", posLoc3.y).css("left", posLoc3.x);
              $("#flyingNumber2").animate({top: 135, left: 615}, slowAnimationSpeed);
            }
            else if (i == 2) {
              document.getElementById('flyingNumber3').innerHTML = numbers[i];
              $("#flyingNumber3").css("top", posLoc3.y).css("left", posLoc3.x);
              $("#flyingNumber3").animate({top: 155, left: 615}, slowAnimationSpeed);
            }
          });

          if (i == 0) {
            commandPrompt[8].innerHTML = commandPrompt[6].innerHTML + " " + numbers[i];
          }
          else if (i == 1) {
            commandPrompt[8].innerHTML = commandPrompt[8].innerHTML + " " + numbers[i];
          }
          else if (i == 2) {
            commandPrompt[8].innerHTML = commandPrompt[8].innerHTML + " " + numbers[i];
          }
        }
        else if (currentLine == 9) {
          explanation[9].innerHTML = "numbers[" + i + "] is added to sum.";
          sum += numbers[i];
          pos = getElementPos(document.getElementById('line9'));
          $("#highlight").animate({top: pos.y, left: pos.x, width: pos.w, height: pos.h}, animationSpeed, function() {
            posLoc3 = getElementPos(document.getElementById('sumLoc2'));
            document.getElementById('flyingResult').innerHTML = sum;
            $("#flyingResult").css("top", posLoc3.y).css("left", posLoc3.x);
            $("#flyingResult").animate({top: 205, left: 615}, slowAnimationSpeed);
          });
        }
        else if (currentLine == 10) {
          document.getElementById('average').style.visibility = 'visible';
          pos = getElementPos(document.getElementById('line10'));
          $("#highlight").animate({top: pos.y, left: pos.x, width: pos.w, height: pos.h}, animationSpeed, function() {
            posLoc4 = getElementPos(document.getElementById('averageLoc'));
            $("#flyingAverage").css("top", posLoc4.y).css("left", posLoc4.x - 35);
            average = Math.round(100 * sum / n) / 100;
            document.getElementById('flyingAverage').innerHTML = average;
            $("#flyingAverage").animate({top: 245, left: 615 - 50}, slowAnimationSpeed);
          });
        }
        else if (currentLine == 11) {
          document.getElementById('count').style.visibility = 'visible';
          document.getElementById('flyingCount').style.visibility = 'visible';
          document.getElementById('countBox').style.visibility = 'visible';
          pos = getElementPos(document.getElementById('line11'));
          $("#highlight").animate({top: pos.y, left: pos.x, width: pos.w, height: pos.h}, animationSpeed, function() {
            posLoc4 = getElementPos(document.getElementById('countLoc'));
            $("#flyingCount").css("top", posLoc4.y).css("left", posLoc4.x - 35);
            document.getElementById('flyingCount').innerHTML = 0;
            $("#flyingCount").animate({top: 285, left: 615 - 50}, slowAnimationSpeed);
          });
          count = 0;
          i = 0;
          n = 3;
          count = 0;
        }
        else if (currentLine == 12) {
          pos = getElementPos(document.getElementById('line12'));
          $("#highlight").animate({top: pos.y, left: pos.x, width: pos.w, height: pos.h}, animationSpeed);
          explanation[12].top = pos.y;
          if (i < n) {
            explanation[12].innerHTML = "i is now " + i + " and n is " + n + ". The program tests if i < n. Since " + i + " < " + n + " is true, the program executes the loop body.";
          }
          else {
            explanation[12].innerHTML = "i is now " + i + " and n is " + n + ". The program tests if i < n. Since " + i + " < " + n + " is false. This loop ends.";
            $("#explanation").animate({top: explanation[currentLine].top, left: explanation[currentLine].left,
              width: explanation[currentLine].width}, animationSpeed);
            document.getElementById('explanation').innerHTML = explanation[currentLine].innerHTML;

            currentLine = 14;
            return;
          }
        }
        else if (currentLine == 13) {
          pos = getElementPos(document.getElementById('line13'));
          $("#highlight").animate({top: pos.y, left: pos.x, width: pos.w, height: pos.h}, animationSpeed);
          explanation[13].top = pos.y;
          explanation[13].innerHTML = "Test if numbers[" + i + "] > " +
                  average + ". It is " + (numbers[i] > average ? "true." : "false.");
        }
        else if (currentLine == 14) {
          pos = getElementPos(document.getElementById('line14'));
          $("#highlight").animate({top: pos.y, left: pos.x, width: pos.w, height: pos.h}, animationSpeed);
          explanation[14].top = pos.y;
          explanation[14].innerHTML = "Increase count by 1.";
          count++;
          posLoc4 = getElementPos(document.getElementById('countLoc1'));
          $("#flyingCount").css("top", posLoc4.y).css("left", posLoc4.x - 35);
          document.getElementById('flyingCount').innerHTML = count;
          $("#flyingCount").animate({top: 285, left: 615 - 50}, slowAnimationSpeed);
        }
        else if (currentLine == 15) {
          pos = getElementPos(document.getElementById('line15'));
          $("#highlight").animate({top: pos.y, left: pos.x, width: pos.w, height: pos.h}, animationSpeed);
          explanation[15].top = pos.y - 20;
          explanation[15].left = pos.x + pos.w + 10;
          explanation[15].innerHTML = "Display average.";
          commandPrompt[15].top = pos.y - 20;
          commandPrompt[15].left = pos.x + pos.w + 10 + explanation[15].width;
          commandPrompt[15].innerHTML = commandPrompt[8].innerHTML +
                  "<br />Average is " + average;
        }
        else if (currentLine == 16) {
          pos = getElementPos(document.getElementById('line16'));
          $("#highlight").animate({top: pos.y, left: pos.x, width: pos.w, height: pos.h}, animationSpeed);
          explanation[16].top = pos.y;
          explanation[16].left = pos.x + pos.w + 10;
          explanation[16].innerHTML = "Display count.";
          commandPrompt[16].top = pos.y - 20;
          commandPrompt[16].left = pos.x + pos.w + 10 + explanation[16].width;
          commandPrompt[16].innerHTML = commandPrompt[15].innerHTML +
                  "<br />Number of elements above the average is " + count;
        }
        else if (currentLine == 17) {
          pos = getElementPos(document.getElementById('line17'));
          $("#highlight").animate({top: pos.y, left: pos.x, width: pos.w, height: pos.h}, animationSpeed);
          explanation[17].top = pos.y;
          explanation[17].left = pos.x + pos.w + 10;
          explanation[17].innerHTML = "The program exits.";
          commandPrompt[17].top = pos.y;
          commandPrompt[17].left = pos.x + pos.w + 10 + explanation[16].width;
          commandPrompt[17].innerHTML = commandPrompt[16].innerHTML +
                  "<br /><br />c:\\>";
        }

        if (currentLine == steps) {
          n = 0; i = 0; count = 0; sum = 0; average = 0;
          document.getElementById('memory').style.visibility = 'hidden';
          document.getElementById('flyingN').style.visibility = 'hidden';
          document.getElementById('nextButton').style.visibility = 'hidden';
          document.getElementById('prevButton').style.visibility = 'hidden';
          document.getElementById('radius').style.visibility = 'hidden';
          document.getElementById('average').style.visibility = 'hidden';
          document.getElementById('startButton').style.visibility = 'visible';
          document.getElementById('startButton').innerHTML = 'Restart Animation';
          document.getElementById('flyingI').style.visibility = 'hidden';
          document.getElementById('flyingNumbers').style.visibility = 'hidden';
          document.getElementById('count').style.visibility = 'hidden';
          document.getElementById('countBox').style.visibility = 'hidden';
          document.getElementById('flyingCount').style.visibility = 'hidden';
          document.getElementById('result').style.visibility = 'hidden';
          document.getElementById('flyingResult').style.visibility = 'hidden';
          document.getElementById('number3').style.visibility = 'hidden';
          document.getElementById('number2').style.visibility = 'hidden';
          document.getElementById('flyingI').innerHTML = '';
          document.getElementById('flyingNumber3').innerHTML = '';
          document.getElementById('flyingNumber2').innerHTML = '';
          document.getElementById('flyingNumber1').innerHTML = '';
          document.getElementById('flyingResult').style.visibility = 'hidden';
          document.getElementById('highlight').style.visibility = 'hidden';
          document.getElementById('commandPrompt').style.visibility = 'hidden';
          document.getElementById('explanation').style.visibility = 'hidden';
          document.getElementById('number1').style.visibility = 'hidden';
          document.getElementById('flyingReturnValue').style.visibility = 'hidden';
        }
        else {
          $("#explanation").animate({top: explanation[currentLine].top, left: explanation[currentLine].left,
            width: explanation[currentLine].width}, animationSpeed);
          document.getElementById('explanation').innerHTML = explanation[currentLine].innerHTML;
          if (commandPrompt[currentLine].isVisible) {
            document.getElementById('commandPrompt').style.visibility = 'visible';
            document.getElementById('commandPromptContent').innerHTML = commandPrompt[currentLine].innerHTML;
            $("#commandPrompt").animate({top: commandPrompt[currentLine].top, left: commandPrompt[currentLine].left},
            animationSpeed);
          }
          else {
            document.getElementById('commandPrompt').style.visibility = 'hidden';
          }

          if (currentLine == 9) {
            i++;
            currentLine = 6; // Stay in the loop
          }

          if (currentLine == 13 && numbers[i] <= average) {
            i++;
            currentLine = 11;
          }

          if (currentLine == 14) {
            i++;
            currentLine = 11;
          }
        }

        if (currentLine == 0) {
          pos = getElementPos(document.getElementById('line0'));
          $("#highlight").animate({top: pos.y, left: pos.x, width: pos.w, height: pos.h}, animationSpeed);
        }
        else if (currentLine == 1) {
          pos = getElementPos(document.getElementById('line1'));
          $("#highlight").animate({top: pos.y, left: pos.x, width: pos.w, height: pos.h}, animationSpeed);
        }
        else if (currentLine == 2) {
          pos = getElementPos(document.getElementById('line2'));
          $("#highlight").animate({top: pos.y, left: pos.x, width: pos.w, height: pos.h}, animationSpeed);
        }
        else if (currentLine == 3) {
          pos = getElementPos(document.getElementById('line3'));
          $("#highlight").animate({top: pos.y, left: pos.x, width: pos.w, height: pos.h}, animationSpeed);
        }
        else if (currentLine == 4) {
          pos = getElementPos(document.getElementById('line4'));
          $("#highlight").animate({top: pos.y, left: pos.x, width: pos.w, height: pos.h}, animationSpeed);
        }
        else if (currentLine == 5) {
          pos = getElementPos(document.getElementById('line5'));
          $("#highlight").animate({top: pos.y, left: pos.x, width: pos.w, height: pos.h}, animationSpeed);
        }
        else if (currentLine == 6) {
          pos = getElementPos(document.getElementById('line6'));
        }
        else if (currentLine == 7) {
          pos = getElementPos(document.getElementById('line7'));
        }
        else if (currentLine == 8) {
          pos = getElementPos(document.getElementById('line8'));
        }
        else if (currentLine == 9) {
          pos = getElementPos(document.getElementById('line9'));
        }
        else if (currentLine == 10) {
          pos = getElementPos(document.getElementById('line10'));
        }
        else if (currentLine == 11) {
          pos = getElementPos(document.getElementById('line11'));
        }
        else if (currentLine == 12) {
          pos = getElementPos(document.getElementById('line12'));
        }
        else if (currentLine == 13) {
          pos = getElementPos(document.getElementById('line11'));
        }
      }
    </script>
  </head>

  <body onload="init()">   
    <div style="text-align: left; margin-top: 1em">
      <span style="padding: 3px">
        <button id = "nextButton" type="button">></button>
        <button id = "prevButton" type="button"><</button>
        <button id ="startButton" type="button">Start Animation</button>  
        <span style="text-align: center; font-size: 60%; margin-bottom: 0.2em; color: navy; font-family: Verdana, Helvetica, sans-serif">
          Introduction to Java Programming, Tenth Edition,
          <a href="http://www.cs.armstrong.edu/liang" style="text-decoration: none; color: green">Y. Daniel Liang</a></span>
      </span>    
    </div>

    <div id="highlight"></div>
    <div id="explanation"></div>
    <div id="commandPrompt">
      <div id="commandPromptHeader">   Command Prompt</div>
      <div id="commandPromptContent">c:\book>java AnalyzeNumbers</div>
    </div>

    <div id="memory" style = "background-color: lightyellow;">
      <div id="variable" style = "font-family: times; text-align: left;  background-color: lightyellow;
           position:absolute; top: 50px; left: 520px; font-size: 80%;">
        Variable Name &nbsp;&nbsp;&nbsp;&nbsp;  Value in Memory</div>
      <div id ="radius">
        <div id="memory1" style = "font-family: times; text-align: left; font-style: italic;
             position:absolute; top: 70px; left: 555px; font-size: 80%;">n</div> 
        <div id="value1" style = "font-family: courier; text-align: center; 
             border: 1px solid green; width: 80px; top: 70px; left: 615px; height: 20px;
             position:absolute;  font-size: 80%;"></div> 
      </div>
    </div>

    <div id ="numbers">
      <div id ="number1">
        <div id="memory3" style = "font-family: times; text-align: left;  font-style: normal;
             position:absolute; top: 110px; left: 555px; font-size: 80%;">numbers[0]</div> 
        <div id="value3" style = "font-family: courier; text-align: center;  
             border: 1px solid green; width: 80px; top: 110px; left: 615px; height: 20px;
             position:absolute;  font-size: 80%;"></div>
      </div>
      <div id ="number2">
        <div id="memory3" style = "font-family: times; text-align: left;  font-style: normal;
             position:absolute; top: 130px; left: 555px; font-size: 80%;">numbers[1]</div> 
        <div id="value3" style = "font-family: courier; text-align: center;  
             border: 1px solid green; width: 80px; top: 130px; left: 615px; height: 20px;
             position:absolute;  font-size: 80%;"></div>
      </div>
      <div id ="number3">
        <div id="memory3" style = "font-family: times; text-align: left;  font-style: normal;
             position:absolute; top: 150px; left: 555px; font-size: 80%;">numbers[2]</div> 
        <div id="value4" style = "font-family: courier; text-align: center;  
             border: 1px solid green; width: 80px; top: 150px; left: 615px; height: 20px;
             position:absolute;  font-size: 80%;"></div>
      </div>
    </div>
    <div id ="flyingNumbers">
      <div id="flyingNumber1" style = "font-family: courier; text-align: center; 
           width: 80px; top: 115px; left: 615px; height: 20px; color:red; font-weight: bold;
           position:absolute;  font-size: 80%;">0.0</div> 

      <div id="flyingNumber2" style = "font-family: courier; text-align: center; 
           width: 80px; top: 135px; left: 615px; height: 20px; color:red; font-weight: bold;
           position:absolute;  font-size: 80%;">0.0</div> 

      <div id="flyingNumber3" style = "font-family: courier; text-align: center; 
           width: 80px; top: 155px; left: 615px; height: 20px; color:red; font-weight: bold;
           position:absolute;  font-size: 80%;">0.0</div> 
    </div>
    <div id ="result">
      <div id="memory4" style = "font-family: times; text-align: left;  font-style: italic;
           position:absolute; top: 200px; left: 555px; font-size: 80%;">sum</div> 
      <div id="value4" style = "font-family: courier; text-align: center;  
           border: 1px solid green; width: 80px; top: 200px; left: 615px; height: 20px;
           position:absolute;  font-size: 80%;"></div>
    </div>    

    <div id="flyingN" style = "font-family: courier; text-align: center; 
         width: 80px; top: 187px; left: 100px; height: 20px; color:red; font-weight: bold;
         position:absolute;  font-size: 80%;"></div> 

    <div id ="average">
      <div id="memory2" style = "font-family: times; text-align: left;  font-style: italic;
           position:absolute; top: 240px; left: 550px; font-size: 80%;">average</div> 
      <div id="value2" style = "font-family: courier; text-align: center;  
           border: 1px solid green; width: 80px; top: 240px; left: 615px; height: 20px;
           position:absolute;  font-size: 80%;"></div>
      <div id="flyingAverage" style = "font-family: courier; text-align: center; 
           width: 180px; top: 245px; left: 100px; height: 20px; color:red; font-weight: bold;
           position:absolute;  font-size: 80%;"></div> 
    </div>

    <div id ="count">
      <div style = "font-family: times; text-align: left;  font-style: italic;
           position:absolute; top: 280px; left: 550px; font-size: 80%;">count</div> 
      <div id="countBox" style = "font-family: courier; text-align: center;  
           border: 1px solid green; width: 80px; top: 280px; left: 615px; height: 20px;
           position:absolute;  font-size: 80%;"></div>
      <div id="flyingCount" style = "font-family: courier; text-align: center; 
           width: 180px; top: 285px; left: 100px; height: 20px; color:red; font-weight: bold;
           position:absolute;  font-size: 80%;"></div> 
    </div>

    <div id="flyingI" style = "font-family: courier; text-align: center; 
         width: 80px; top: 187px; left: 100px; height: 20px; color:red; font-weight: bold;
         position:absolute;  font-size: 80%;"></div> 

    <div id="flyingResult" style = "font-family: courier; text-align: center; 
         width: 80px; top: 95px; left: 615px; height: 20px; color:red; font-weight: bold;
         position:absolute;  font-size: 80%;"></div> 

    <div id="flyingReturnValue" style = "font-family: courier; text-align: center; 
         width: 80px; top: 95px; left: 615px; height: 20px; color:red; font-weight: bold;
         position:absolute;  font-size: 80%;"></div> 

    <div id = "program" style="font-family: courier; font-size: 12; margin: 0px auto; border: 1px solid red; text-align: left">
      <pre>
  1&nbsp;&nbsp;<span class = "keyword">public</span> <span class = "keyword">class</span> AnalyzeNumbers {
  2&nbsp;&nbsp;  <span id="line0"><span class = "keyword">public</span> <span class = "keyword">static</span> <span class = "keyword">void</span> main(String[] args) {</span>
  3&nbsp;&nbsp;    <span id="line1">java.util.Scanner input = <span class = "keyword">new</span> java.util.Scanner(System.in);</span>
  4&nbsp;&nbsp;    <span id="line2">System.out.print(<span class = "literal">"Enter the number of items: "</span>);</span>
  5&nbsp;&nbsp;    <span id="line3"><span class = "keyword">int</span> n = input.nextInt();</span>
  6&nbsp;&nbsp;    <span id="line4"><span class = "keyword">double</span>[] numbers = <span class = "keyword">new</span> <span class = "keyword">double</span>[n];</span>
  7&nbsp;&nbsp;    <span id="line5"><span class = "keyword">double</span> sum = <span class = "literal"><span id="sumLoc">0</span></span>;</span>
  8&nbsp;&nbsp;
  9&nbsp;&nbsp;    <span id="line6">System.out.print(<span class = "literal">"Enter the numbers: "</span>);</span>
 10&nbsp;&nbsp;    <span id="line7"><span class = "keyword">for</span> (<span class = "keyword">int</span> i = <span class = "literal">0</span>; i &lt; n; i++) {</span>
 11&nbsp;&nbsp;      <span id="line8"><span id="numberiLoc">numbers[i]</span> = input.nextDouble();</span>
 12&nbsp;&nbsp;      <span id="line9"><span id="sumLoc2">sum</span> += numbers[i];</span>
 13&nbsp;&nbsp;    }
 14&nbsp;&nbsp;    
 15&nbsp;&nbsp;    <span id="line10"><span class = "keyword">double</span> <span id="averageLoc">average</span> = sum / n;</span>
 16&nbsp;&nbsp;
 17&nbsp;&nbsp;   <span id="line11"> <span class = "keyword">int</span> <span id="countLoc">count</span> = <span class = "literal">0</span>;</span> <span class = "comment">// The numbers of elements above average</span>
 18&nbsp;&nbsp;    <span id="line12"><span class = "keyword">for</span> (<span class = "keyword">int</span> i = <span class = "literal">0</span>; i &lt; n; i++)</span>
 19&nbsp;&nbsp;      <span id="line13"><span class = "keyword">if</span> (numbers[i] &gt; average)</span>
 20&nbsp;&nbsp;        <span id="line14"><span id="countLoc1">count++;</span></span>
 21&nbsp;&nbsp;
 22&nbsp;&nbsp;    <span id="line15">System.out.println(<span class = "literal">"Average is "</span> + average);</span>
 23&nbsp;&nbsp;    <span id="line16">System.out.println(<span class = "literal">"Number of elements above the average is "</span></span>
 24&nbsp;&nbsp;      + count);
 25&nbsp;&nbsp;  <span id="line17">}</span>
 26&nbsp;&nbsp;}
      </pre>
    </div>

    <script type="text/javascript">
      $("#nextButton").click(function() {
        currentLine = currentLine + 1;
        step();
      });
      $("#prevButton").click(function() {
        currentLine = currentLine - 1;
        step();
      });
      $("#startButton").click(function() {
        currentLine = 0;
        var pos = getElementPos(document.getElementById('line0'));
        $("#highlight").animate({top: pos.y, left: pos.x, width: pos.w, height: pos.h}, 'fast');
        $("#explanation").animate({top: explanation[currentLine].top, left: explanation[currentLine].left,
          width: explanation[currentLine].width}, 'fast');
        $("#commandPrompt").animate({top: commandPrompt[currentLine].top, left: commandPrompt[currentLine].left}, 'fast');
        document.getElementById('explanation').innerHTML = explanation[currentLine].innerHTML;
        document.getElementById('commandPromptContent').innerHTML = commandPrompt[currentLine].innerHTML;
        document.getElementById('startButton').style.visibility = 'hidden';
        document.getElementById('nextButton').style.visibility = 'visible';
        document.getElementById('commandPrompt').style.visibility = 'visible';
        document.getElementById('highlight').style.visibility = 'visible';
        document.getElementById('explanation').style.visibility = 'visible';
      });
    </script>
  </body>
</html>