<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html">
    <h:head>
        <title>WheeReader - 4J Interactive</title>
    </h:head>
    <h:body style="padding: 60px;">
        <ui:insert name="header" >
            <ui:include src="/template/navbar.xhtml" />
	</ui:insert>
        
        <b:container>
            <b:panel title="Forgot your password? I sorry :( - Enter your email address and we'll send you a new one." rendered="#{forgotPasswordBean.email == null}">
                <h:form>
                    <h:panelGrid columns="2" cellpadding="5" cellspacing="5" width="400" style="margin: 0 auto;" title="">
                        <h:outputText value="Email"  style="font-weight: bold;"/>
                        <b:inputText required="true" size="30" maxlength="45" 
                                         requiredMessage="Please enter your email address."
                                         validatorMessage="HTML - Invalid email format"
                                         value="#{forgotPasswordBean.email}">

                                <f:validateRegex pattern="[\w\.-]*[a-zA-Z0-9_]@[\w\.-]*[a-zA-Z0-9]\.(com|net|org|edu)"/>

                            </b:inputText>
                        <h:outputText value="" />
                        <b:commandButton value="Submit" action="#{forgotPasswordBean.submit}" style="margin-top:15px" />
                    </h:panelGrid>
                </h:form>
                
            </b:panel>
            
            <b:panel title="New password is on its way!" rendered="#{forgotPasswordBean.email != null}">
                <p>Your password has been reset and sent to you!</p>
                <p>Once you have logged in with the new password, we recommend that you change the password by visiting your account settings page.</p>
            </b:panel>
            
            <h:outputText value="#{forgotPasswordBean.response}" style="color: red;"/>
        </b:container>
    </h:body>
</html>

